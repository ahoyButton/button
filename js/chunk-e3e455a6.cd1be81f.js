(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3e455a6"],{"1eaa":function(t,e,i){"use strict";var s=i("8e6c"),n=i.n(s);n.a},"1fb7":function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}i.d(e,"a",(function(){return u}));var o=i("fa7d"),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,t),this.audio=new Audio,this.audio.preload="auto",this.audioPrefix=e,this.addEndHandle(n),this.volume=i}return a(t,[{key:"play",value:function(t){this.audio.src=Object(o["a"])(t,this.audioPrefix),this.audio.play()}},{key:"continuePlay",value:function(){""!==this.audio.currentSrc&&this.audio.play()}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.pause(),this.audio.currentTime=0,this.audio.src=""}},{key:"addEndHandle",value:function(t){void 0!==t&&null!==t&&"function"===typeof t&&this.audio.addEventListener("ended",t,!1)}},{key:"volume",set:function(t){t<0||t>100||(this.audio.volume=t/100)}}]),t}()},"1fdf":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mobile-play-list"},[i("nut-row",{staticClass:"play-list-info-row",staticStyle:{"margin-top":"5px"}},[i("nut-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[i("span",[t._v(" "+t._s(t.$t("playList.dialogTitle"))+" ")])])],1),i("nut-row",{staticClass:"play-list-info-row",staticStyle:{"margin-top":"1em"}},[i("nut-col",{staticClass:"play-list-btn-panel",attrs:{span:24}},[i("nut-button",{staticClass:"play-list-btn play-btn",attrs:{type:"light",shape:"circle"},on:{click:t.startPlay}},[t._v(" "+t._s(t.$t("playList.play"))+" ")]),i("nut-button",{staticClass:"play-list-btn pause-btn",attrs:{type:"light",shape:"circle"},on:{click:t.handlePause}},[t._v(" "+t._s(t.$t("playList.pause"))+" ")]),i("nut-button",{staticClass:"play-list-btn stop-btn",attrs:{type:"light",shape:"circle"},on:{click:t.handleStop}},[t._v(" "+t._s(t.$t("playList.stop"))+" ")]),i("nut-button",{staticClass:"play-list-btn clear-btn",attrs:{type:"light",shape:"circle"},on:{click:t.handleClean}},[t._v(" "+t._s(t.$t("playList.clear"))+" ")])],1)],1),i("nut-row",{staticClass:"play-list-info-row",staticStyle:{"margin-top":"1em","margin-bottom":"0.5em"}},[i("nut-col",{attrs:{span:24}},[t._v(" "+t._s(t.$t("playList.currentList"))+" ")])],1),i("nut-row",{staticClass:"play-list-info-row"},[i("nut-col",{attrs:{span:24}},[i("div",{staticClass:"play-list-mode-switch"},[i("nut-switch",{attrs:{active:t.isLoop,size:"small"},on:{"update:active":function(e){t.isLoop=e}}}),i("span",{staticStyle:{"margin-left":"5px"}},[t._v(" "+t._s(t.$t("playList.loopMode"))+" ")])],1)])],1),i("div",t._l(t.listItems,(function(e,s){return i("PlayListItem",{key:s,attrs:{title:e.name.lang[t.lang],path:e.path}})})),1)],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nut-cell",{directives:[{name:"touch",rawName:"v-touch:swipeleft",value:t.showDelete,expression:"showDelete",arg:"swipeleft"},{name:"touch",rawName:"v-touch:swiperight",value:t.hideDelete,expression:"hideDelete",arg:"swiperight"}],staticClass:"play-item",attrs:{title:t.title,"show-icon":t.showIcon}},[i("nut-button",{class:{"slip-delete-in":t.inAnime,"slip-delete-out":t.outAnime},attrs:{slot:"icon"},on:{click:function(e){return t.delItem(t.path)}},slot:"icon"},[t._v(" "+t._s(t.$t("playList.delete"))+" ")])],1)],1)},o=[],u=i("9fb0"),l=i("e9d5"),c={name:"PlayListItem",mixins:[l["a"]],props:{title:{type:String,required:!0},path:{type:String,required:!0}},data:function(){return{showIcon:!1,inAnime:!1,outAnime:!1,timeoutId:null}},methods:{showDelete:function(){var t=this;this.clearTimeoutId(),this.showIcon=!0,this.outAnime=!1,this.inAnime=!0,this.timeoutId=setTimeout((function(){t.hideDelete()}),3e3)},hideDelete:function(){var t=this;this.clearTimeoutId(),this.inAnime=!1,this.outAnime=!0,setTimeout((function(){return t.showIcon=!1}),300)},delItem:function(t){this.showIcon=!1,this.clearTimeoutId(),this.$store.commit(u["i"],t)},clearTimeoutId:function(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}}},r=c,h=(i("1eaa"),i("2877")),d=Object(h["a"])(r,a,o,!1,null,"50fae5ca",null),p=d.exports,f=i("408a"),m=i("c16c"),v=i("a856"),y=i("1fb7"),w=i("c9d9"),g={name:"PlayList",mixins:[f["a"],m["a"],v["a"]],components:{PlayListItem:p},data:function(){return{audio:new y["a"](w["a"],this.volume,this.handleOrder)}}},b=g,I=(i("600a"),Object(h["a"])(b,s,n,!1,null,"bc609568",null));e["default"]=I.exports},"408a":function(t,e,i){"use strict";var s=i("9fb0");e["a"]={data:function(){return{currentIndex:0,isPlaying:!1,isPaused:!1,isLoop:!1}},methods:{startPlay:function(){this.isPaused?this.handlePause():(this.currentIndex=0,this.handleOrder())},handleOrder:function(){if(this.currentIndex>=this.listItems.length){if(!this.isLoop)return void(this.isPlaying=!1);this.currentIndex=0}this.audio.volume=this.volume,this.isPlaying=!0,this.audio.play(this.listItems[this.currentIndex].path),this.currentIndex++},handlePause:function(){if(this.isPaused)return this.audio.continuePlay(),this.isPaused=!1,void(this.isPlaying=!0);(this.isPlaying||this.isPaused)&&(this.audio.pause(),this.isPaused=!0,this.isPlaying=!1)},handleStop:function(){this.currentIndex=0,this.audio.stop(),this.isPlaying=!1,this.isPaused=!1},handleClean:function(){this.handleStop(),this.$store.commit(s["d"])},handleClose:function(){this.$store.commit(s["e"])}},computed:{listItems:function(){return this.$store.state.playList}}}},"600a":function(t,e,i){"use strict";var s=i("7318"),n=i.n(s);n.a},7318:function(t,e,i){},"8e6c":function(t,e,i){},a856:function(t,e,i){"use strict";e["a"]={computed:{lang:function(){return this.$i18n.locale}}}},c16c:function(t,e,i){"use strict";var s=i("9fb0");e["a"]={computed:{volume:{get:function(){return this.$store.state.volume},set:function(t){this.$store.commit(s["f"],t)}}}}},e9d5:function(t,e,i){"use strict";e["a"]={directives:{touch:{bind:function(t,e){var i,s,n=e.arg,a=0;function o(t,e){return 180*Math.atan2(e,t)/Math.PI}function u(t,e,i,s){var n=e-s,a=i-t,u=0;if(Math.abs(a)<2&&Math.abs(n)<2)return u;var l=o(a,n);return l>=-45&&l<45?u="swiperight":l>=45&&l<135?u="swipeup":l>=-135&&l<-45?u="swipedown":(l>=135&&l<=180||l>=-180&&l<-135)&&(u="swipeleft"),u}t.addEventListener("touchstart",(function(t){i=t.touches[0].pageX,s=t.touches[0].pageY,a=setTimeout((function(){a=0,"press"===n&&e.value()}),500)}),!1),t.addEventListener("touchmove",(function(){clearTimeout(a),a=0})),t.addEventListener("touchend",(function(t){var o,l;o=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY;var c=u(i,s,o,l);switch(clearTimeout(a),c){case 0:break;case"swipeup":"swipeup"===n&&e.value();break;case"swipedown":"swipedown"===n&&e.value();break;case"swipeleft":"swipeleft"===n&&e.value();break;case"swiperight":"swiperight"===n&&e.value();break;default:}}),!1)}}}}}}]);
//# sourceMappingURL=chunk-e3e455a6.cd1be81f.js.map