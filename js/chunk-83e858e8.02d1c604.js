(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83e858e8"],{"1fb7":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}i.d(e,"a",(function(){return u}));var o=i("fa7d"),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,t),this.audio=new Audio,this.audio.preload="auto",this.audioPrefix=e,this.addEndHandle(s),this.volume=i}return a(t,[{key:"play",value:function(t){this.audio.src=Object(o["a"])(t,this.audioPrefix),this.audio.play()}},{key:"continuePlay",value:function(){""!==this.audio.currentSrc&&this.audio.play()}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.pause(),this.audio.currentTime=0,this.audio.src=""}},{key:"addEndHandle",value:function(t){void 0!==t&&null!==t&&"function"===typeof t&&this.audio.addEventListener("ended",t,!1)}},{key:"volume",set:function(t){t<0||t>100||(this.audio.volume=t/100)}}]),t}()},"1fdf":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mobile-play-list"},[i("nut-row",{staticClass:"play-list-info-row",staticStyle:{"margin-top":"5px"}},[i("nut-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[i("span",[t._v(" "+t._s(t.$t("playList.dialogTitle"))+" ")])])],1),i("nut-row",{staticClass:"play-list-info-row",staticStyle:{"margin-top":"1em"}},[i("nut-col",{staticClass:"play-list-btn-panel",attrs:{span:24}},[i("nut-button",{staticClass:"play-list-btn play-btn",attrs:{type:"light",shape:"circle"},on:{click:t.startPlay}},[t._v(" "+t._s(t.$t("playList.play"))+" ")]),i("nut-button",{staticClass:"play-list-btn pause-btn",attrs:{type:"light",shape:"circle"},on:{click:t.handlePause}},[t._v(" "+t._s(t.$t("playList.pause"))+" ")]),i("nut-button",{staticClass:"play-list-btn stop-btn",attrs:{type:"light",shape:"circle"},on:{click:t.handleStop}},[t._v(" "+t._s(t.$t("playList.stop"))+" ")]),i("nut-button",{staticClass:"play-list-btn clear-btn",attrs:{type:"light",shape:"circle"},on:{click:t.handleClean}},[t._v(" "+t._s(t.$t("playList.clear"))+" ")])],1)],1),i("nut-row",{staticClass:"play-list-info-row",staticStyle:{"margin-top":"1em","margin-bottom":"0.5em"}},[i("nut-col",{attrs:{span:24}},[t._v(" "+t._s(t.$t("playList.currentList"))+" ")])],1),i("nut-row",{staticClass:"play-list-info-row"},[i("nut-col",{attrs:{span:24}},[i("div",{staticClass:"play-list-mode-switch"},[i("nut-switch",{attrs:{active:t.isLoop,size:"small"},on:{"update:active":function(e){t.isLoop=e}}}),i("span",{staticStyle:{"margin-left":"5px"}},[t._v(" "+t._s(t.$t("playList.loopMode"))+" ")])],1)])],1),i("div",t._l(t.listItems,(function(e,n){return i("PlayListItem",{key:n,attrs:{title:e.name.lang[t.lang],path:e.path}})})),1)],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nut-cell",{directives:[{name:"touch",rawName:"v-touch:swipeleft",value:t.showDelete,expression:"showDelete",arg:"swipeleft"},{name:"touch",rawName:"v-touch:swiperight",value:t.hideDelete,expression:"hideDelete",arg:"swiperight"}],staticClass:"play-item",attrs:{title:t.title,"show-icon":t.showIcon}},[i("nut-button",{class:{"slip-delete-in":t.inAnime,"slip-delete-out":t.outAnime},attrs:{slot:"icon"},on:{click:function(e){return t.delItem(t.path)}},slot:"icon"},[t._v(" "+t._s(t.$t("playList.delete"))+" ")])],1)],1)},o=[],u=i("9fb0"),c=i("e9d5"),l={name:"PlayListItem",mixins:[c["a"]],props:{title:{type:String,required:!0},path:{type:String,required:!0}},data:function(){return{showIcon:!1,inAnime:!1,outAnime:!1,timeoutId:null}},methods:{showDelete:function(){var t=this;this.clearTimeoutId(),this.showIcon=!0,this.outAnime=!1,this.inAnime=!0,this.timeoutId=setTimeout((function(){t.hideDelete()}),3e3)},hideDelete:function(){var t=this;this.clearTimeoutId(),this.inAnime=!1,this.outAnime=!0,setTimeout((function(){return t.showIcon=!1}),300)},delItem:function(t){this.showIcon=!1,this.clearTimeoutId(),this.$store.commit(u["g"],t)},clearTimeoutId:function(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}}},r=l,h=(i("502c"),i("2877")),d=Object(h["a"])(r,a,o,!1,null,"21d549f6",null),p=d.exports,f=i("408a"),m=i("c16c"),v=i("a856"),y=i("1fb7"),g=i("c9d9"),b={name:"PlayList",mixins:[f["a"],m["a"],v["a"]],components:{PlayListItem:p},data:function(){return{audio:new y["a"](g["a"],this.volume,this.handleOrder)}}},w=b,I=(i("f00c"),Object(h["a"])(w,n,s,!1,null,"ebdf0ce6",null));e["default"]=I.exports},"408a":function(t,e,i){"use strict";var n=i("9fb0");e["a"]={data:function(){return{currentIndex:0,isPlaying:!1,isPaused:!1,isLoop:!1}},methods:{startPlay:function(){this.currentIndex=0,this.handleOrder()},handleOrder:function(){if(this.currentIndex>=this.listItems.length){if(!this.isLoop)return void(this.isPlaying=!1);this.currentIndex=0}this.audio.volume=this.volume,this.isPlaying=!0,this.audio.play(this.listItems[this.currentIndex].path),this.currentIndex++},handlePause:function(){if(this.isPaused)return this.audio.continuePlay(),this.isPaused=!1,void(this.isPlaying=!0);(this.isPlaying||this.isPaused)&&(this.audio.pause(),this.isPaused=!0,this.isPlaying=!1)},handleStop:function(){this.currentIndex=0,this.audio.stop(),this.isPlaying=!1,this.isPaused=!1},handleClean:function(){this.handleStop(),this.$store.commit(n["b"])},handleClose:function(){this.$store.commit(n["c"])}},computed:{listItems:function(){return this.$store.state.playList}}}},"502c":function(t,e,i){"use strict";var n=i("725e"),s=i.n(n);s.a},"725e":function(t,e,i){},"79ed":function(t,e,i){},a856:function(t,e,i){"use strict";e["a"]={computed:{lang:function(){return this.$i18n.locale}}}},c16c:function(t,e,i){"use strict";var n=i("9fb0");e["a"]={computed:{volume:{get:function(){return this.$store.state.volume},set:function(t){this.$store.commit(n["d"],t)}}}}},c9d9:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"f",(function(){return o})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return c})),i.d(e,"g",(function(){return g}));var n="/voices/",s="/images/sound-Mute.png",a="/images/sound-filling.png",o=[{title:"中文",value:"zh_CN"},{title:"English",value:"en"},{title:"日本語",value:"ja_JP"}],u=["apocelipes"],c=["宝钟玛林保护协会"],l="/#/mobile/main",r="/images/home.png",h="/images/home-active.png",d="/#/mobile/playlist",p="/images/playlist.png",f="/images/playlist-active.png",m="/#/mobile/aboutUs",v="/images/about-us.png",y="/images/about-us-active.png",g={zh_CN:[{tabTitle:"主页",curr:!0,href:l,icon:r,activeIcon:h},{tabTitle:"播放列表",curr:!1,href:d,icon:p,activeIcon:f},{tabTitle:"关于我们",curr:!1,href:m,icon:v,activeIcon:y}],ja_JP:[{tabTitle:"ホーム",curr:!0,href:l,icon:r,activeIcon:h},{tabTitle:"再生リスト",curr:!1,href:d,icon:p,activeIcon:f},{tabTitle:"私たちにおいて",curr:!1,href:m,icon:v,activeIcon:y}],en:[{tabTitle:"Home",curr:!0,href:l,icon:r,activeIcon:h},{tabTitle:"Playlist",curr:!1,href:d,icon:p,activeIcon:f},{tabTitle:"About Us",curr:!1,href:m,icon:v,activeIcon:y}]}},e9d5:function(t,e,i){"use strict";e["a"]={directives:{touch:{bind:function(t,e){var i,n,s=e.arg,a=0;function o(t,e){return 180*Math.atan2(e,t)/Math.PI}function u(t,e,i,n){var s=e-n,a=i-t,u=0;if(Math.abs(a)<2&&Math.abs(s)<2)return u;var c=o(a,s);return c>=-45&&c<45?u="swiperight":c>=45&&c<135?u="swipeup":c>=-135&&c<-45?u="swipedown":(c>=135&&c<=180||c>=-180&&c<-135)&&(u="swipeleft"),u}t.addEventListener("touchstart",(function(t){i=t.touches[0].pageX,n=t.touches[0].pageY,a=setTimeout((function(){a=0,"press"===s&&e.value()}),500)}),!1),t.addEventListener("touchmove",(function(){clearTimeout(a),a=0})),t.addEventListener("touchend",(function(t){var o,c;o=t.changedTouches[0].pageX,c=t.changedTouches[0].pageY;var l=u(i,n,o,c);switch(clearTimeout(a),l){case 0:break;case"swipeup":"swipeup"===s&&e.value();break;case"swipedown":"swipedown"===s&&e.value();break;case"swipeleft":"swipeleft"===s&&e.value();break;case"swiperight":"swiperight"===s&&e.value();break;default:}}),!1)}}}}},f00c:function(t,e,i){"use strict";var n=i("79ed"),s=i.n(n);s.a}}]);
//# sourceMappingURL=chunk-83e858e8.02d1c604.js.map